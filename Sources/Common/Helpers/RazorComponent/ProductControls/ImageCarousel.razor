@using Microsoft.AspNetCore.Components.Web
@using Domain.Models

@namespace Common.Helpers.RazorComponent.ProductControls

<div class="carousel-item @(IsFirstElement? "active":"")">
    <div class="bg-img-cover d-flex justify-content-center p-3 rounded-right" style="background-image: url('@Url'); height:500px;">
        @if (ShowIcons)
        {
            <button class="btn btn-danger btn-icon" type="button" @onclick=OnDeleteEvent>
                <i data-feather="trash-2"></i>
            </button>
        }
    </div>
    <div class="p-1">
        <strong>Commentaire:</strong>
        <br>
        @Image.Comment
    </div>
</div>

@code {
    [Parameter] public ImageInstruction Image { get; set; }
    [Parameter] public bool IsFirstElement { get; set; }
    [Parameter] public bool ShowIcons { get; set; } = false;
    [Parameter] public EventCallback<int> OnDeleteImageCallback { get; set; }

    public string Url { get => Image.Url.Replace(@"\", "/"); }

    public async Task OnDeleteEvent()
    {
        await OnDeleteImageCallback.InvokeAsync(Image.Id);
    }
}