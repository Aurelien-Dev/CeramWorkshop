@using MudExtensions.Enums
@inherits Client.Utils.CustomComponentBase

<MudForm>
    <MudDialog>
        <DialogContent>
            <MudPaper @ondragenter="@SetDragClass" @ondragleave="@ClearDragClass" @ondragend="@ClearDragClass" Outlined="true" Class="@_dragClass">
                @if (!_clearing)
                {
                    <InputFile OnChange="OnInputFileChanged" class="absolute mud-width-full mud-height-full overflow-hidden z-2" style="opacity:0;"/>
                }
                <MudText Typo="Typo.h6">@Localizer["Text_DragAndDrop"]</MudText>
                <MudLoading @bind-Loading="_loading" Overlap="false" LoaderType="LoaderType.Circular" Darken="false"/>
                <div class="d-flex justify-center">
                    <MudImage Src="@ImageInstruction.Url" ObjectFit="ObjectFit.Cover" Fluid="true" Elevation="25"
                              Class="rounded-lg" Style="height: 300px;"/>
                </div>
            </MudPaper>
            <MudTextField Label="@Localizer["Text_BuildInstructions"]" @bind-Value="ImageInstruction.Comment" For="@(() => ImageInstruction.Comment)" Lines="5"/>
        </DialogContent>
        <DialogActions>
            <MudButton OnClick="Cancel">@Localizer["Btn_Cancel"]</MudButton>
            <MudButton Color="Color.Primary" OnClick="OnValidSubmit">@Localizer["Btn_Ok"]</MudButton>
        </DialogActions>
    </MudDialog>
</MudForm>