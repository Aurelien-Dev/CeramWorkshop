@using Domain.Models.MainDomain
@using Client.Utils
@inherits Client.Utils.ComponentBase.CustomComponentBase

<MudForm @ref="_form" @bind-IsValid="@_success" @bind-Errors="@_errors">
    <MudDialog>
        <DialogContent>
            <MudContainer Style="max-height: 500px; overflow-y: scroll">
                <MudStack Row="true">
                    <MudTextField Label="@Localizer["Reference"]" Variant="Variant.Outlined" Class="mx-1"
                                  @bind-Value="ProductDetail.Reference" For="@(() => ProductDetail.Reference)" />
                    <MudTextField Label="@Localizer["TableHeader_Name"]" Variant="Variant.Outlined" Class="mx-1"
                                  @bind-Value="ProductDetail.Name" For="@(() => ProductDetail.Name)" />
                </MudStack>
                <MudStack Class="mt-3">
                    <MudTextField Label="@Localizer["Text_Description"]" Variant="Variant.Outlined" Class="mx-1" Lines="5"
                                  @bind-Value="ProductDetail.Description" For="@(() => ProductDetail.Description)" />
                    <MudTextField Label="@Localizer["Text_DesignInstructions"]" Variant="Variant.Outlined" Class="mx-1" Lines="5"
                                  @bind-Value="ProductDetail.DesignInstruction" For="@(() => ProductDetail.DesignInstruction)" />
                    <MudTextField Label="@Localizer["Text_GlazingInstructions"]" Variant="Variant.Outlined" Class="mx-1" Lines="5"
                                  @bind-Value="ProductDetail.GlazingInstruction" For="@(() => ProductDetail.GlazingInstruction)" />
                </MudStack>
                <MudStack Row="true" Class="mt-3">
                    <MudImage Src="/assets/img/sizing.png" Height="65" Class="ms-3" />
                    <MudTextField Label="@Localizer["Text_TopDiameter"]" Variant="Variant.Outlined" Class="mx-1" Adornment="Adornment.End" AdornmentText="cm"
                                  @bind-Value="ProductDetail.TopDiameter" For="@(() => ProductDetail.TopDiameter)" />
                    <MudTextField Label="@Localizer["Text_BottomDiameter"]" Variant="Variant.Outlined" Class="mx-1" Adornment="Adornment.End" AdornmentText="cm"
                                  @bind-Value="ProductDetail.BottomDiameter" For="@(() => ProductDetail.BottomDiameter)" />
                    <MudTextField Label="@Localizer["Text_Height"]" Variant="Variant.Outlined" Class="mx-1" Adornment="Adornment.End" AdornmentText="cm"
                                  @bind-Value="ProductDetail.Height" For="@(() => ProductDetail.Height)" />
                </MudStack>
                <MudStack Class="mt-3">
                    <MudTextField Label="@Localizer["Text_SellingPrice"]" Variant="Variant.Outlined" Class="mx-1"
                                  @bind-Value="ProductDetail.Price" For="@(() => ProductDetail.Price)" />
                    <MudSelect T="ProductStatus" Label="Statut" Variant="Variant.Outlined" AnchorOrigin="Origin.BottomCenter"
                               @bind-Value="ProductDetail.Status">
                        @foreach (ProductStatus item in Enum.GetValues(typeof(ProductStatus)))
                        {
                            <MudSelectItem Value="@item">@item</MudSelectItem>
                        }
                    </MudSelect>
                </MudStack>
            </MudContainer>
        </DialogContent>
        <DialogActions>
            <MudButton OnClick="Cancel">@Localizer["Btn_Cancel"]</MudButton>

            <MudLoadingButton @bind-Loading="_loading" LoadingAdornment="Adornment.Start" LoadingCircularColor="Color.Primary" OnClick="@(async () => await OnValidSubmit())" Variant="Variant.Filled" Color="Color.Primary">
                <LoadingContent>
                    @Localizer["Btn_Ok"]
                </LoadingContent>
                <ChildContent>
                    @Localizer["Btn_Ok"]
                </ChildContent>
            </MudLoadingButton>



            @*<MudButton Color="Color.Primary" OnClick="@(async () => await OnValidSubmit())">@Localizer["Btn_Ok"]</MudButton>*@
        </DialogActions>
    </MudDialog>
</MudForm>