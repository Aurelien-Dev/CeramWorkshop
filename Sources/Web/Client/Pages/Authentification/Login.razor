@using Client.Components
@using Client.Utils
@layout LayoutLogin
@inherits CustomLayoutComponentBase

<MudForm @ref="form">
    <MudStack Spacing=5 Justify="Justify.Center" Row=true>
        <MudButton Variant="Variant.Filled" Style="background-color: yellowgreen; color: white; width: 300px; height: 60px;"
                   OnClick=@(() => NavigationManager.NavigateTo("/register"))>
            @Localizer["WorkshopSignUp"]
        </MudButton>
    </MudStack>
    <MudDivider Class="ma-10" />
    <MudStack Spacing=5>
        <MudTextField InputType="InputType.Email" Label="@Localizer["WorkshopEmail"]" FullWidth=true
                      @bind-Value="LoginInfo.Email" For="@(() => LoginInfo.Email)" />

        <MudTextField InputType="InputType.Password" Label="@Localizer["WorkshopPassword"]" FullWidth=true
                      @bind-Value="LoginInfo.Password" For="@(() => LoginInfo.Password)" />
        <MudText Color="@Color.Error">@authError</MudText>
        <MudButton ButtonType="ButtonType.Button" Variant="Variant.Filled" Color="Color.Primary" OnClick="@(async ()=> { await Authenticate(); LoginInProgress = false; })">Login</MudButton>

        @if (LoginInProgress)
        {
            <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-7" />
        }

    </MudStack>
</MudForm>